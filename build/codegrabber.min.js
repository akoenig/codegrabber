/* 
 * codegrabber (v0.2.0)
 * 
 * Copyright(c) 2014 André König <andre.koenig@posteo.de>
 * MIT Licensed 
 * 
 */
"use strict";var akoenig=akoenig||{};akoenig.codegrabber=akoenig.codegrabber||{},akoenig.codegrabber.Burnisher=function(){function e(){}return e.prototype.$$normalizeLineRange=function(e){return e=(e||"").split("-"),2!==e.length||(e[0]=Number(e[0]),e[1]=Number(e[1]),isNaN(e[0])||e[0]<0||isNaN(e[1])||e[1]<0)?void 0:e},e.prototype.slice=function(e,n){var t="\n",r=e.split(t);return(n=this.$$normalizeLineRange(n))?e=r.splice(n[0]-1,n[1]).join(t):r.join(t)},{create:function(){return new e}}}(),akoenig.codegrabber.HTTP=function(){function e(){}return e.prototype.get=function(e,n){var t=new XMLHttpRequest,r="GET";t.onreadystatechange=function(){4===t.readyState&&n(null,t.responseText)},t.open(r,e),t.send()},new e}(),akoenig.codegrabber.Snippet=function(){function e(e){this.uri=e.uri,this.lines=e.lines,this.$$node=document.createElement("pre"),this.$$fetch()}var n=akoenig.codegrabber.HTTP,t=akoenig.codegrabber.Burnisher;return e.prototype.$$polish=function(e){var n=t.create();return this.lines&&(e=n.slice(e,this.lines)),e},e.prototype.$$fetch=function(){function e(e,n){return e?console.error(e):(n=t.$$polish(n),n=document.createTextNode(n),void t.$$node.appendChild(n))}var t=this;n.get(this.uri,e)},e.prototype.getNode=function(){return this.$$node},{create:function(n){return n=n||{},new e(n)}}}(),function(){var e=(akoenig.codegrabber.HTTP,akoenig.codegrabber.Snippet),n=document.querySelectorAll("pre");[].forEach.call(n,function(n){var t,r=n.getAttribute("data-src");r&&(t=e.create({uri:r,lines:n.getAttribute("data-lines")}),n.appendChild(t.getNode()))})}();